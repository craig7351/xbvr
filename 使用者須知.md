# XBVR 使用者操作須知

這份文件彙整了關於資料轉移、備份匯出以及資料庫管理的常用操作說明。

---

## 1. 資料轉移 (更換電腦)
如果您需要將 XBVR 遷移至新電腦，請備份以下核心目錄。

### 核心資料位址 (AppDir)
在 Windows 中，預設路徑為：
`C:\Users\您的帳號\.config\xbvr`

### 轉移步驟
1.  **關閉程式**：確保舊電腦上的 XBVR (或 Docker 容器) 已完全停止。
2.  **備份目錄**：複製整個 `xbvr` 資料夾。最關鍵的檔案是：
    *   `main.db`：保存所有場景資訊、標籤、演員與檔案關聯。
    *   `config.json`：保存您的系統設定與 API Key。
3.  **在新電腦還原**：將資料夾放回新電腦對應的 `\.config\xbvr` 路徑下再啟動 XBVR。

---

## 2. 匯入與匯出功能 (Bundle 系統)
XBVR 內建了強大的資料打包功能，適合備份特定的自定義資料。

### 操作位置
**Options -> Scene Data Import/Export**

### 功能說明
*   **Export (匯出)**：可產生一個 `xbvr-content-bundle.json`。
    *   您可以勾選要包含的項目：場景細節、觀看紀錄、手動修改 (Edits)、檔案連結關係等。
*   **Import (匯入)**：
    *   支持上傳 JSON 檔案或透過 URL 下載（適用於大型資料包）。
    *   **Overwrite 模式**：開啟後會覆蓋現有資料；關閉則僅新增缺少的紀錄。

---

## 3. 清空或重置資料庫
為保護資料安全，XBVR 網頁介面未提供「全刪除」按鈕。

### 完整重置 (Factory Reset)
若想徹底清空所有資料重頭來過：
1.  關閉 XBVR。
2.  刪除 `%USERPROFILE%\.config\xbvr\main.db` 檔案。
3.  重啟後，系統會自動建立一個全新的空白資料庫。

### 局部清理功能
*   **清理場景連結**：`Options -> Advanced` -> `Clear scene links` (僅取消檔案與場景的配對)。
*   **清理標籤**：`Options -> Scene Data Tasks` -> `Clean Tags` (刪除無人使用的標籤)。

---

## 4. JAVR 自動匹配功能說明
針對日本 VR 影片 (JAVR)，系統已強化自動匹配邏輯。

### 雙重注入 (Double Injection)
當您使用 **JAVR 搜尋工具** 匯入場景時：
*   **網站 ID**：自動注入抓取來源的原始 ID。
*   **搜尋關鍵字 (QueryID)**：系統會捕捉您輸入的原始搜尋內容（例如 `PXVR-256`），並自動生成多種變體（如大寫、小寫、去橫線）。

這項功能確保了無論您的檔案命名是哪種格式，都能自動與抓取的場景資料精確匹配。
